# MACE training config for liquid water (BingqingCheng/ab-initio-thermodynamics-of-water)
# Ref: https://mace-docs.readthedocs.io/en/latest/examples/training_examples.html#liquid-water

name: water_1k_small
seed: 123
train_file: water_data/train.xyz
valid_fraction: 0.05
test_file: water_data/test.xyz
E0s: average
model: MACE
num_interactions: 2
num_channels: 64
max_L: 0
correlation: 3
r_max: 6.0
forces_weight: 1000
energy_weight: 10
energy_key: TotEnergy
forces_key: force
# ~5 min run: few epochs, large batches
batch_size: 128
valid_batch_size: 128
max_num_epochs: 4
start_swa: 2
scheduler_patience: 2
patience: 4
eval_interval: 1
ema: true
swa: true
error_table: PerAtomMAE
# float32 required for MPS (Apple Silicon); float64 not supported on MPS
default_dtype: float32
device: cpu
restart_latest: true
save_cpu: true
